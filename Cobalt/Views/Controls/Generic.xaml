<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:metro="http://metro.mahapps.com/winfx/xaml/controls"
    xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mdConverters="clr-namespace:MaterialDesignThemes.Wpf.Converters;assembly=MaterialDesignThemes.Wpf"
    xmlns:controls="clr-namespace:Cobalt.Views.Controls">


    <mdConverters:DrawerOffsetConverter x:Key="DrawerOffsetConverter"></mdConverters:DrawerOffsetConverter>

    <SolidColorBrush Color="Black" x:Key="BlackBackground" />
    
    <Style TargetType="{x:Type controls:AppLayout}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:AppLayout}">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">

                        <Grid x:Name="RootGrid">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <Grid Grid.Column="1" x:Name="PART_Content" Grid.ColumnSpan="1">
                                <AdornerDecorator>
                                    <ContentPresenter
                                        x:Name="ContentPresenter" Opacity="1"
                                        Content="{TemplateBinding Content}"
                                        ContentTemplate="{TemplateBinding ContentTemplate}"
                                        ContentStringFormat="{TemplateBinding ContentStringFormat}"/>
                                </AdornerDecorator>
                                <Grid x:Name="PART_ContentCover" Background="{x:Null}" Opacity="0"
                                      IsHitTestVisible="False" Focusable="False" />
                            </Grid>
                            <Grid Grid.Column="0"  HorizontalAlignment="Left" VerticalAlignment="Stretch"
                                  x:Name="PART_Drawer"
                                  Margin="{Binding RelativeSource={RelativeSource Self}, Path=ActualWidth, Converter={StaticResource DrawerOffsetConverter}}">
                                <AdornerDecorator>
                                    <AdornerDecorator.CacheMode>
                                        <BitmapCache EnableClearType="True" SnapsToDevicePixels="True" />
                                    </AdornerDecorator.CacheMode>
                                    <Border
                                        Effect="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=(md:ShadowAssist.ShadowDepth), Converter={x:Static mdConverters:ShadowConverter.Instance}}"
                                        Opacity="0" Background="{DynamicResource MaterialDesignPaper}"
                                        x:Name="DrawerShadow">
                                    </Border>
                                </AdornerDecorator>
                                <ContentPresenter Content="{TemplateBinding MenuItems}" />
                            </Grid>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type controls:AppMenuItem}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:AppMenuItem}">
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    
</ResourceDictionary>
